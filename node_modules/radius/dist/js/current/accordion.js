(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define('radius/accordion', ['exports', 'lodash/forEach', './utils'], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require('lodash/forEach'), require('./utils'));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.forEach, global.utils);
    global.radiusAccordion = mod.exports;
  }
})(this, function (exports, _forEach, _utils) {
  'use strict';

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = accordionComponent;

  var _forEach2 = _interopRequireDefault(_forEach);

  var _utils2 = _interopRequireDefault(_utils);

  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  }

  var ACTIVE_CLASS = 'is-active';
  var SELECTOR = '.js-accordion-item';

  function accordionComponent() {
    var components = document.querySelectorAll(SELECTOR);
    (0, _forEach2['default'])(components, createAccordion);
  }

  function createAccordion(element) {
    var accordionTitle = element.querySelector('.js-accordion-item__title');

    _utils2['default'].removeClass(element, ACTIVE_CLASS);
    _utils2['default'].addEventListener(accordionTitle, 'click', onAccordionItemClick);
  }

  function onAccordionItemClick(event) {
    var element = event.target;
    var accordionItem = element.parentElement;

    var siblings = document.querySelectorAll(SELECTOR);

    (0, _forEach2['default'])(siblings, function (el) {
      return _utils2['default'].removeClass(el, ACTIVE_CLASS);
    });
    _utils2['default'].toggleClass(accordionItem, ACTIVE_CLASS);
  }
});